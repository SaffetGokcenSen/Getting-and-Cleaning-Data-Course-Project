# Getting-and-Cleaning-Data-Course-Project
This repository contains an R script named "run_analysis.R". This script includes three function definitions and other R statements to prepare the tidy data sets required by the project. One of the functions is "download_data". It downloads the zip file containing the data set. The other function is "merge_data". It merges the train data and the test data to obtain a single data set. The last function is the function "create_tidy_data". It creates the tidy form of the input data set. This function performs two types of processing, either tidying a vector data or tidying a mgnitude data. If the vector type processing is to be made, then the features whose names end with X or Y or Z are selected from the input data set. If the magnitude data is to be tidied, then the features whose names end with "()" are chosen. Then, the selected features' names are grouped according to their roots. For example, "tBodyAcc-mean()-X", "tBodyAcc-mean()-Y", "tBodyAcc-mean()-Z", "tBodyAcc-std()-X", "tBodyAcc-std()-Y", "tBodyAcc-std()-Z", "fBodyAcc-mean()-X", "fBodyAcc-mean()-Y", "fBodyAcc-mean()-Z", "fBodyAcc-std()-X", "fBodyAcc-std()-Y" and "fBodyAcc-std()-Z" all belong to the same group with the root "BodyAcc". The output tidy data set is initialized to an empty data frame with empty columns. The columns "index", "subject", "activity", "domain" and "type" are common to the vector processing and magnitude processing. For the vector processing, an additional column named "direction" exists. Then, for each root group, the features belonging to the root are selected from input data set. Gathering operation is applied to the resulting data frame, i.e. "source_df". Columns to be gathered are the columns sharing the common root. The resulting key column is separated into the newly introduced columns for tidying the data set. For the vector processing, the newly introduced columns are "domain", "type", and "direction" columns. For the magnitude processing, they are "domain" and "type" columns. After the gathering and separating operations, the "source_df" data frame is now transformed to the "tidy_source" data frame. "tidy_source" is then fully joined with the "tidy_data_set" data frame which will be the output tidy data set. This operation is repeated using a for loop. After obtaining the "tidy_data_set", a second tidy data set is obtained by taking the mean of the measurements over the time or frequency index. The second independent tidy data set is "tidy_vec_data_set" for vector measurements and "tidy_mag_data_set" for magnitude measurements. A direction column with value "-" is added to the manitude data set. Then, these two data sets are fully joined to each other to obtain the "ind_tidy_data_set" data frame. Finally, this data frame is written to the file "ind_tidy_data_set.txt".
